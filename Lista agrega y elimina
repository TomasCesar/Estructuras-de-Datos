#include <stdio.h>
#include <stdlib.h>

typedef struct Lista{
  int dato;
  struct Lista *siguiente;
}Lista;

Lista *primero = NULL;
Lista *ultimo = NULL;


void insertarLista();
void mostrarLista();
void borrarLista();

void insertarLista(){
    Lista *nuevo = (Lista*)malloc(sizeof(Lista));
    printf("ingresar el nuevo dato");
    scanf("%d",&nuevo->dato);
    if(primero==NULL){
      primero=nuevo;
      primero->siguiente=NULL;
      ultimo=nuevo;
    }
    else {
      ultimo->siguiente=nuevo;
      nuevo->siguiente=NULL;
      ultimo=nuevo;
    }

}

void mostrarLista(){
    Lista *actual = (Lista*)malloc(sizeof(Lista));
    actual=primero;
    if(primero != NULL){
      while(actual != NULL){
      printf("\n %d \n", actual->dato);
      actual= actual->siguiente;
      }
    }
    else{
        printf("\n La lista esta vacia\n");
    }
}

void borrarLista(){
    int eli;
    Lista *actual = (Lista*)malloc(sizeof(Lista));
    actual=primero;
    Lista *anterior = (Lista*)malloc(sizeof(Lista));
    anterior=NULL;
    printf("ingresa el dato a eliminar");
    scanf("%d",&eli);
    anterior=NULL;
    if(primero != NULL){
      while(actual!=NULL){
          if(actual->dato == eli){
            if(actual==primero){
              primero=NULL;
              ultimo=NULL;
              break;
              }

              else if(actual==ultimo){
                anterior = anterior->siguiente=NULL;
                ultimo=anterior;
                break;
              }
              else{
                anterior->siguiente = actual->siguiente;
              }

          }
            anterior=actual;
            actual=actual->siguiente;
        }
    }
    else{
      printf("No hay datos para elminar");
    }
}

int main(){
  int num;
  printf("cuantos datos quieres engresar:");
  scanf("%d",&num);
  for(int i=0;i<num;i++){
    insertarLista();
  }
  mostrarLista();

  borrarLista();

  mostrarLista();

  scanf("%d",&num);
  return 0;
}
