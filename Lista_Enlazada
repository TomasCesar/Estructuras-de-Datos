#include <stdio.h>
#include <stdlib.h>

struct Lista{
  int dato;
  struct Lista* siguiente;
};
struct Lista *insertar(int, struct Lista*);
struct Lista *mostrar(struct Lista*);
struct Lista *borrar(int,struct Lista*);

int main(){
  int num;
  struct Lista *Lista = NULL;
  Lista= insertar(0,Lista);
  Lista= insertar(4,Lista);
  Lista= insertar(3,Lista);
  Lista= insertar(5,Lista);
  mostrar(Lista);
  //Lista= borrar(5,Lista);
  Lista= borrar(7,Lista);
  mostrar(Lista);
    scanf("%d",&num);
    return 0;
}

struct Lista *insertar (int dato,struct Lista* Lista){
  struct  Lista *nuevo = NULL;
  struct  Lista *aux=NULL;
  nuevo = (struct Lista*)malloc(sizeof(struct Lista));
  nuevo->dato=dato;
  if(Lista==NULL){
    Lista=nuevo;
  }
  else{
    aux=Lista;
    while(aux->siguiente!=NULL){
      aux=aux->siguiente;
    }
    aux->siguiente=nuevo;
  }
  return Lista;
}

struct Lista *borrar(int dato, struct Lista* Lista){
  struct Lista *aux=NULL;
  struct Lista *primero=NULL;
  primero=Lista;
  if(primero==NULL){
    printf("\nNO hay datos a eliminar");;
  }
  else{
    while(primero->dato!=dato ){
       if(primero->siguiente==NULL){
          printf("\nEL dato no existe\n");
         break;
       }
      aux=primero;
      primero=primero->siguiente;
    }
    if(aux==NULL){
      aux=primero;
      primero=primero->siguiente;
      free(aux);
    }
    else if(primero->siguiente==NULL){
      aux->siguiente=NULL;
      free(primero);
    }
    else{
        aux->siguiente=primero->siguiente;
        free(primero);
    }
  }
  return Lista;
}

struct Lista *mostrar(struct Lista* Lista){
  while(Lista!=NULL){
    printf("%d\n",Lista->dato);
    Lista=Lista->siguiente;
  }
  return Lista;
}
